document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("theme-toggle");localStorage.getItem("color-theme")==="dark"||!localStorage.getItem("color-theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),t.addEventListener("click",function(){document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?localStorage.setItem("color-theme","dark"):localStorage.setItem("color-theme","light")})});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("newsletter-form"),o=document.getElementById("newsletter-email"),e=document.getElementById("newsletter-message");t.addEventListener("submit",async function(a){a.preventDefault();const s=o.value.trim();if(s)try{const n=await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({email:s})});if(n.ok)e.textContent="Thank you for subscribing!",e.className="mt-2 text-sm text-green-400",o.value="";else{const c=await n.json();e.textContent=c.message||"Subscription failed. Please try again.",e.className="mt-2 text-sm text-red-400"}}catch{e.textContent="An error occurred. Please try again later.",e.className="mt-2 text-sm text-red-400"}})});
